var G=Object.defineProperty;var w=t=>{throw TypeError(t)};var L=(t,s,r)=>s in t?G(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var B=(t,s,r)=>L(t,typeof s!="symbol"?s+"":s,r),O=(t,s,r)=>s.has(t)||w("Cannot "+r);var i=(t,s,r)=>(O(t,s,"read from private field"),r?r.call(t):s.get(t)),g=(t,s,r)=>s.has(t)?w("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),q=(t,s,r,e)=>(O(t,s,"write to private field"),e?e.call(t,r):s.set(t,r),r);import{c as z,aq as X,az as j,ar as H,a as C,ak as D,h as J,k as K,aB as N,al as P}from"./De5Mxx5s.js";const Q=/[&"<]/g;function U(t,s){const r=String(t??""),e=Q;e.lastIndex=0;let f="",n=0;for(;e.test(r);){const a=e.lastIndex-1,c=r[a];f+=r.substring(n,a)+(c==="&"?"&amp;":c==='"'?"&quot;":"&lt;"),n=a+1}return f+r.substring(n)}function R(t){var s,r,e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t)){var f=t.length;for(s=0;s<f;s++)t[s]&&(r=R(t[s]))&&(e&&(e+=" "),e+=r)}else for(r in t)t[r]&&(e&&(e+=" "),e+=r);return e}function V(){for(var t,s,r=0,e="",f=arguments.length;r<f;r++)(t=arguments[r])&&(s=R(t))&&(e&&(e+=" "),e+=s);return e}const E={translate:new Map([[!0,"yes"],[!1,"no"]])};function Z(t,s,r=!1){if(t==="hidden"&&s!=="until-found"&&(r=!0),s==null||!s&&r)return"";const e=t in E&&E[t].get(s)||s,f=r?"":`="${U(e)}"`;return` ${t}${f}`}function y(t){return typeof t=="object"?V(t):t??""}const F=[...` 	
\r\fÂ \v\uFEFF`];function _(t,s,r){var e=t==null?"":""+t;if(s&&(e=e?e+" "+s:s),r){for(var f in r)if(r[f])e=e?e+" "+f:f;else if(e.length)for(var n=f.length,a=0;(a=e.indexOf(f,a))>=0;){var c=a+n;(a===0||F.includes(e[a-1]))&&(c===e.length||F.includes(e[c]))?e=(a===0?"":e.substring(0,a))+e.substring(c+1):a=c}}return e===""?null:e}function I(t,s=!1){var r=s?" !important;":";",e="";for(var f in t){var n=t[f];n!=null&&n!==""&&(e+=" "+f+": "+n+r)}return e}function S(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function tt(t,s){if(s){var r="",e,f;if(Array.isArray(s)?(e=s[0],f=s[1]):e=s,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var n=!1,a=0,c=!1,l=[];e&&l.push(...Object.keys(e).map(S)),f&&l.push(...Object.keys(f).map(S));var b=0,A=-1;const $=t.length;for(var d=0;d<$;d++){var h=t[d];if(c?h==="/"&&t[d-1]==="*"&&(c=!1):n?n===h&&(n=!1):h==="/"&&t[d+1]==="*"?c=!0:h==='"'||h==="'"?n=h:h==="("?a++:h===")"&&a--,!c&&n===!1&&a===0){if(h===":"&&A===-1)A=d;else if(h===";"||d===$-1){if(A!==-1){var T=S(t.substring(b,A).trim());if(!l.includes(T)){h!==";"&&d++;var x=t.substring(b,d).trim();r+=" "+x+";"}}b=d+1,A=-1}}}}return e&&(r+=I(e)),f&&(r+=I(f,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}var u,p,o,v,k,m,M;class et{constructor(s,r=!0){B(this,"anchor");g(this,u,new Map);g(this,p,new Map);g(this,o,new Map);g(this,v,new Set);g(this,k,!0);g(this,m,()=>{var s=z;if(i(this,u).has(s)){var r=i(this,u).get(s),e=i(this,p).get(r);if(e)X(e),i(this,v).delete(r);else{var f=i(this,o).get(r);f&&(i(this,p).set(r,f.effect),i(this,o).delete(r),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),e=f.effect)}for(const[n,a]of i(this,u)){if(i(this,u).delete(n),n===s)break;const c=i(this,o).get(a);c&&(j(c.effect),i(this,o).delete(a))}for(const[n,a]of i(this,p)){if(n===r||i(this,v).has(n))continue;const c=()=>{if(Array.from(i(this,u).values()).includes(n)){var b=document.createDocumentFragment();N(a,b),b.append(C()),i(this,o).set(n,{effect:a,fragment:b})}else j(a);i(this,v).delete(n),i(this,p).delete(n)};i(this,k)||!e?(i(this,v).add(n),H(a,c,!1)):c()}}});g(this,M,s=>{i(this,u).delete(s);const r=Array.from(i(this,u).values());for(const[e,f]of i(this,o))r.includes(e)||(j(f.effect),i(this,o).delete(e))});this.anchor=s,q(this,k,r)}ensure(s,r){var e=z,f=P();if(r&&!i(this,p).has(s)&&!i(this,o).has(s))if(f){var n=document.createDocumentFragment(),a=C();n.append(a),i(this,o).set(s,{effect:D(()=>r(a)),fragment:n})}else i(this,p).set(s,D(()=>r(this.anchor)));if(i(this,u).set(e,s),f){for(const[c,l]of i(this,p))c===s?e.skipped_effects.delete(l):e.skipped_effects.add(l);for(const[c,l]of i(this,o))c===s?e.skipped_effects.delete(l.effect):e.skipped_effects.add(l.effect);e.oncommit(i(this,m)),e.ondiscard(i(this,M))}else J&&(this.anchor=K),i(this,m).call(this)}}u=new WeakMap,p=new WeakMap,o=new WeakMap,v=new WeakMap,k=new WeakMap,m=new WeakMap,M=new WeakMap;export{et as B,_ as a,Z as b,y as c,tt as t};
